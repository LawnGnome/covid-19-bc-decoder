(this["webpackJsonpcovid-19-bc-decoder"]=this["webpackJsonpcovid-19-bc-decoder"]||[]).push([[0],{65:function(e,n,t){"use strict";t(39);var c=t(16);n.a=function(e){var n=e.label,t=e.value;return Object(c.jsx)(c.Fragment,{children:void 0!==t&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("dt",{children:n}),Object(c.jsx)("dd",{children:t})]})})}},788:function(e,n,t){"use strict";(function(e){var c=t(82),r=(t(39),t(789)),i=t.n(r),a=t(790),o=t(791),s=t(792),u=t(793),l=t(16);n.a=function(n){var t=n.code;t.startsWith("shc:/")&&(t=t.substr(5));var r=function(e){var n,t=void 0,r="",i=Object(c.a)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(void 0===t)t=a;else{var o=parseInt("".concat(t).concat(a))+45;r+=String.fromCharCode(o),t=void 0}}}catch(s){i.e(s)}finally{i.f()}return r}(t),d=(i.a.decode(r),JSON.parse(a.a.inflateRaw(e.from(r.split(".")[1],"base64"),{to:"string"})));try{var j=o.R4.RTTI_Bundle.decode(d.vc.credentialSubject.fhirBundle);if("Right"!==j._tag)throw j.left;var h,b=j.right;if(void 0===b.entry)throw new Error("no entries found in bundle");var f,v=[],O=Object(c.a)(b.entry);try{for(O.s();!(f=O.n()).done;){var m=f.value.resource;"Patient"===(null===m||void 0===m?void 0:m.resourceType)?h=m:"Immunization"===(null===m||void 0===m?void 0:m.resourceType)&&v.push(m)}}catch(x){O.e(x)}finally{O.f()}return Object(l.jsxs)(l.Fragment,{children:[h&&Object(l.jsx)(s.a,{patient:h}),v.length>0&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Immunisations"}),v.map((function(e){return Object(l.jsx)(u.a,{immunisation:e})}))]})]})}catch(p){return Object(l.jsx)("div",{children:"The QR code had an unexpected structure, and could not be parsed. Try scanning another one?"})}}}).call(this,t(40).Buffer)},792:function(e,n,t){"use strict";t(39);var c=t(65),r=t(16);n.a=function(e){var n,t=e.patient;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Personal information"}),Object(r.jsxs)("dl",{children:[null===(n=t.name)||void 0===n?void 0:n.map((function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(c.a,{label:"Family name",value:e.family}),Object(r.jsx)(c.a,{label:"Given names",value:e.given&&e.given.length>0?e.given.join(" "):void 0})]})})),Object(r.jsx)(c.a,{label:"Date of birth",value:t.birthDate})]})]})}},793:function(e,n,t){"use strict";var c=t(82),r=(t(39),t(65)),i=t(16),a=function(e){if(e){var n,t=Object(c.a)(e);try{for(t.s();!(n=t.n()).done;){var r=n.value;if("http://hl7.org/fhir/sid/cvx"===r.system)switch(r.code){case"510":return"Sinopharm";case"511":return"Sinovac";case"502":return"COVAXIN";case"501":return"QAZCOVID-IN";case"503":return"COVIVAC";case"500":return"Unknown COVID-19 vaccine";case"507":return"Anhui Zhifei Longcom Biopharm";case"509":return"EpiVacCorona";case"508":return"Jiangsu";case"211":return"Novavax";case"212":return"Janssen";case"210":return"AstraZeneca";case"506":return"CanSino";case"504":return"Sputnik Light";case"505":return"Sputnik V";case"207":return"Moderna";case"208":return"Pfizer"}}}catch(i){t.e(i)}finally{t.f()}}};n.a=function(e){var n=e.immunisation;return Object(i.jsxs)("dl",{children:[Object(i.jsx)(r.a,{label:"Date",value:n.occurrenceDateTime}),Object(i.jsx)(r.a,{label:"Type",value:a(n.vaccineCode.coding)}),Object(i.jsx)(r.a,{label:"Lot number",value:n.lotNumber})]})}},802:function(e,n,t){},803:function(e,n,t){},807:function(e,n){},809:function(e,n){},821:function(e,n){},823:function(e,n){},851:function(e,n){},852:function(e,n){},857:function(e,n){},859:function(e,n){},866:function(e,n){},885:function(e,n){},940:function(e,n,t){"use strict";t.r(n);var c,r=t(39),i=t.n(r),a=t(787),o=t.n(a),s=(t(802),t(143)),u=(t(803),t(797)),l=t(788),d=t(142),j=t(795),h=t(794),b=t(16);!function(e){e[e.SCANNING=0]="SCANNING",e[e.RESULTS=1]="RESULTS",e[e.ABOUT=2]="ABOUT"}(c||(c={}));var f=function(){var e=Object(r.useState)(void 0),n=Object(s.a)(e,2),t=n[0],i=n[1],a=Object(r.useState)(c.SCANNING),o=Object(s.a)(a,2),f=o[0],v=o[1],O=Object(r.useCallback)((function(e){e&&(i(e),v(c.RESULTS))}),[]),m=Object(r.useCallback)((function(){i(void 0),v(c.SCANNING)}),[]);return Object(r.useLayoutEffect)((function(){document.documentElement.style.setProperty("--vh","".concat(window.innerHeight,"px"))})),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{id:"nav",children:Object(b.jsxs)("nav",{children:[f!==c.SCANNING&&Object(b.jsx)("button",{onClick:m,children:Object(b.jsx)(d.a,{icon:h.a})}),Object(b.jsx)("div",{id:"spacer"}),f!==c.ABOUT&&Object(b.jsx)("button",{className:"about",onClick:function(){return v(c.ABOUT)},children:"About"}),Object(b.jsx)("a",{id:"github",target:"_blank",rel:"noreferrer",href:"https://github.com/LawnGnome/covid-19-bc-decoder",children:Object(b.jsx)(d.a,{icon:j.a})})]})}),f===c.ABOUT&&Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("h2",{children:"About this site"}),Object(b.jsx)("p",{children:"This is a very quick and dirty site to decode and display the information encoded in a BC Vaccine Card QR code."}),Object(b.jsx)("p",{children:"Your QR code and health information are not transmitted anywhere."}),Object(b.jsxs)("p",{children:["The source code for this site is hosted"," ",Object(b.jsx)("a",{href:"https://github.com/LawnGnome/covid-19-bc-decoder",children:"on GitHub"}),". Bug reports are welcome."]}),Object(b.jsxs)("p",{children:["If you want to contact the author, ping"," ",Object(b.jsx)("a",{href:"https://twitter.com/LGnome",children:"@LGnome"})," on Twitter."]})]}),f===c.SCANNING&&Object(b.jsx)("div",{id:"scanner",children:Object(b.jsx)(u.a,{onResult:function(e){return O(null===e||void 0===e?void 0:e.getText())},constraints:{facingMode:"environment"},videoStyle:{height:null,width:null,top:null,left:null,display:null,overflow:null,position:null},videoContainerStyle:{height:null,width:null,position:null,paddingTop:null,overflow:null}})}),f===c.RESULTS&&t&&Object(b.jsx)("div",{id:"results",className:"content",children:Object(b.jsx)(l.a,{code:t})})]})},v=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,941)).then((function(n){var t=n.getCLS,c=n.getFID,r=n.getFCP,i=n.getLCP,a=n.getTTFB;t(e),c(e),r(e),i(e),a(e)}))};o.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(f,{})}),document.getElementById("root")),v()}},[[940,1,2]]]);
//# sourceMappingURL=main.f152e48c.chunk.js.map